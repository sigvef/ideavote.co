{% extends 'base.html' %}

{% load staticfiles %}
{% load upvote_widget %}

{% block css %}
    <link rel="stylesheet" href="{% static 'css/idea/idea.css' %}">
{% endblock %}

{% block content %}

  <div class="idea box">

    {% upvote_widget idea request.user %}

    <h2 class="title">{{ idea.title }}</h2>

    <div class="text">
      {{ idea.get_rendered_text | safe }}
    </div>
  </div>

  {% load mptt_tags %}

  <div class="comment-container">
      {% recursetree comments %}
      <div
          class="comment"
          >
        <a href="/user/{{ node.author }}">{{ node.author }}</a>
        {{ node.text }}

        {% if not node.is_leaf_node %}
          {{ children }}
        {% endif %}
        </div>
      {% endrecursetree %}
  </div>

{% endblock %}
